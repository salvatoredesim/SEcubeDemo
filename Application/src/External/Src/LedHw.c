/*
 * LedHw.c
 *
 *  Created on: 01 dic 2016
 *      Author: raidenfox
 */

#include "LedHw.h"

void Init_Leds(){

	GPIO_Leds_InitStruct.Pin = LED1 | LED2 | LED3 | LED4;
	GPIO_Leds_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
	GPIO_Leds_InitStruct.Pull = GPIO_PULLUP;
	GPIO_Leds_InitStruct.Speed = GPIO_SPEED_HIGH;
	HAL_GPIO_Init(LED_GPIO_GATE1,&GPIO_Leds_InitStruct);

	GPIO_Leds_InitStruct.Pin = LED5 | LED6 | LED7 | LED8;
	GPIO_Leds_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
	GPIO_Leds_InitStruct.Pull = GPIO_PULLUP;
	GPIO_Leds_InitStruct.Speed = GPIO_SPEED_HIGH;
	HAL_GPIO_Init(LED_GPIO_GATE2,&GPIO_Leds_InitStruct);
}

void write_conf(){

	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED1,ON);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED2,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED3,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED4,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED5,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED6,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED7,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED8,OFF);

	while(1){
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED1,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED2,ON);
	HAL_Delay(300);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED2,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED3,ON);
	HAL_Delay(300);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED3,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED4,ON);
	HAL_Delay(300);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED4,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED5,ON);
	HAL_Delay(300);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED5,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED6,ON);
	HAL_Delay(300);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED6,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED7,ON);
	HAL_Delay(300);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED7,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED8,ON);
	HAL_Delay(300);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED7,ON);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED8,OFF);
	HAL_Delay(300);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED6,ON);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED7,OFF);
	HAL_Delay(300);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED5,ON);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED6,OFF);
	HAL_Delay(300);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED5,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED4,ON);
	HAL_Delay(300);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED4,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED3,ON);
	HAL_Delay(300);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED3,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED2,ON);
	HAL_Delay(300);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED2,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED1,ON);
	HAL_Delay(300);
	}

}

void write_conf_fail(){

	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED1,ON);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED2,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED3,ON);
	HAL_GPIO_WritePin(LED_GPIO_GATE1,LED4,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED5,ON);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED6,OFF);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED7,ON);
	HAL_GPIO_WritePin(LED_GPIO_GATE2,LED8,OFF);
}

